<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watch & Earn ph</title>
<meta name="viewport" content="width=device-width">
<style>
body{margin:0;font-family:Arial;background:#0b0b0b;color:#fff}
.container{max-width:900px;margin:auto;padding:20px;text-align:center}
.box{background:#111;padding:15px;border-radius:10px;margin-bottom:15px}
.green{color:#00ff88}
.lock{color:#ff6666;font-size:18px;margin:10px 0}
button{padding:10px 15px;border:none;border-radius:6px;cursor:pointer}
button:disabled{background:#555}
input,select{padding:10px;width:100%;max-width:300px;margin:5px}
.progress{width:100%;height:12px;background:#333;border-radius:10px;overflow:hidden;margin:8px 0}
.progress div{height:100%;background:#00ff88;width:0}
.card{background:#111;padding:10px;border-radius:8px;margin-bottom:6px;text-align:left}
.hidden{display:none}
iframe{width:100%;max-width:800px;height:450px;border-radius:10px}
</style>
</head>

<body>
<div class="container">

<div class="box">
ðŸ’° Balance: â‚±<span id="balance">0.00</span>
<div class="progress"><div id="withdrawProgress"></div></div>
<button id="withdrawBtn" disabled>Withdraw</button>
</div>

<h2>ðŸŽ¬ Watch & Earn PH</h2>
<div id="login" class="box">
<select id="userSelect"></select><br>
<input id="password" type="password" placeholder="Enter password">
<p><small>Press ENTER to login</small></p>
</div>

<div id="lockMsg" class="lock"></div>

<!-- INVITE BOX (HIDDEN UNTIL LOGIN) -->
<div id="refBox" class="box hidden">
<h3>ðŸ‘¥ Invite Username</h3>
<input id="refUsername" placeholder="Username ng nag-invite">
<button id="saveRef">Save</button>
<div id="refMsg" class="green"></div>
</div>
<div id="playerArea"></div>
<div class="progress"><div id="videoProgress"></div></div>
<div id="timer"></div>
<div id="earned" class="green"></div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
/* USERS */
const USERS={
 userA:{pass:"dipwd1234"},
 userB:{pass:"dipwdabcd"},
 userC:{pass:"dipwdadmin123"}
};
const VIDEO_POOL=["tUMXTD8STeU","ZspGPko6-1w","JATpLtghZCY"];
let currentUser,data,player,ytReady=false;

/* INIT */
window.onload=()=>{
 Object.keys(USERS).forEach(u=>{
  let o=document.createElement("option");
  o.value=u;o.textContent=u;
  userSelect.appendChild(o);
 });
};
/* YT READY */
function onYouTubeIframeAPIReady(){ytReady=true;}

/* LOGIN */
password.addEventListener("keypress",e=>{
 if(e.key!=="Enter")return;

let u=userSelect.value;
 if(!USERS[u] || password.value!==USERS[u].pass){
  alert("Wrong username or password");
  return;
 }

 currentUser=u;
 login.style.display="none";
 refBox.classList.remove("hidden");

 loadData();
 loadReferral();
 loadVideo();
});

/* DATA */
function loadData(){
 data=JSON.parse(localStorage.getItem("user_"+currentUser))||{
  total:0,
  refUser:null,
  refReward:0
 };
}
function save(){
 localStorage.setItem("user_"+currentUser,JSON.stringify(data));
}
/* REFERRAL */
function loadReferral(){
 if(data.refUser){
  refUsername.value=data.refUser;
  refUsername.disabled=true;
  saveRef.disabled=true;
  refMsg.textContent="âœ” Saved â‚±"+data.refReward;
 }
}


saveRef.onclick=()=>{
 if(data.refUser)return;
 let u=refUsername.value.trim();
 if(!u){alert("Enter username");return;}

 let r=(Math.random()*(8-0.1)+0.1).toFixed(2);
 data.refUser=u;
 data.refReward=r;
 data.total+=Number(r);

 save();
 refUsername.disabled=true;
 saveRef.disabled=true;
 refMsg.textContent="ðŸŽ‰ You got â‚±"+r;
};
/* VIDEO */
function loadVideo(){
 if(!ytReady){setTimeout(loadVideo,500);return;}
 playerArea.innerHTML="<div id='player'></div>";
 player=new YT.Player("player",{
  videoId:VIDEO_POOL[0],
  playerVars:{autoplay:1,controls:0}
 });
}
</script>
</body>
</html>
