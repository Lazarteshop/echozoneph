#balanceBox {
    background: #111;
    padding: 15px;
    border-radius: 10px;
    font-size: 22px;
    color: #00ff88;
}
.light #balanceBox,
.light .card {
    background: #fff;
    color: #111;
}
#balanceBox.bump {
    animation: bump 0.4s ease;
}
@keyframes bump {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
}
input {
    padding: 12px;
    font-size: 18px;
    width: 100%;
    max-width: 300px;
}
button {
    padding: 10px 15px;
    margin-top: 10px;
    cursor: pointer;
    border-radius: 6px;
    border: none;
}
#withdrawBtn {
    background: #00ff88;
}
#withdrawBtn:disabled {
    background: #555;
}
#timer {
    font-size: 22px;
    margin-top: 15px;
}
#earned {
    font-size: 26px;
    color: #00ff88;
    margin-top: 20px;
}
.history {
    margin-top: 30px;
    text-align: left;
}
.card {
    background: #111;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 8px;
}
iframe {
    width: 100%;
    max-width: 800px;
    height: 450px;
    border-radius: 10px;
}
</style>
</head>
<body oncontextmenu="return false">

<div class="container">

    <button id="themeToggle">üåô Toggle Theme</button>

    <div id="balanceBox">
        üí∞ Total Balance: ‚Ç±<span id="balance">0.00</span><br>
        <button id="withdrawBtn" disabled>üí∏ Withdraw</button>
    </div>
<h2>üé¨ Watch & Earn</h2>

    <div id="login">
        <input id="password" type="password" placeholder="Enter password">
    </div>

    <div id="playerArea"></div>
    <div id="timer"></div>
    <div id="earned"></div>

    <div class="history">
        <h3>üìä Earnings History</h3>
        <div id="historyList"></div>
    </div>
</div>
<audio id="earnSound">
    <source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3" type="audio/mpeg">
</audio>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
/* üîê CONFIG */
const PASSWORD = "1234";
/* üé• VIDEO LIST */
const videos = [
    { id: "dQw4w9WgXcQ", title: "Video 1" },
    { id: "9bZkp7q19f0", title: "Video 2" }
];

let player;
let currentVideo = 0;

/* üíæ LOAD SAVED DATA */
let earnings = JSON.parse(localStorage.getItem("earningsData")) || {
    total: 0,
    watched: [],
    history: []
};
/* üé® THEME */
const themeToggle = document.getElementById("themeToggle");
if (localStorage.getItem("theme") === "light") {
    document.body.classList.add("light");
}
themeToggle.onclick = () => {
    document.body.classList.toggle("light");
    localStorage.setItem(
        "theme",
        document.body.classList.contains("light") ? "light" : "dark"
    );
};
/* üîë LOGIN */
document.getElementById("password").addEventListener("keypress", e => {
    if (e.key === "Enter") {
        if (e.target.value === PASSWORD) {
            document.getElementById("login").remove();
            updateBalance();
            renderHistory();
            loadVideo();
        } else {
alert("Maling password");
            e.target.value = "";
        }
    }
});

/* üé≤ RANDOM REWARD (‚Ç±0.1 ‚Äì ‚Ç±0.5) */
function getRandomReward() {
    return parseFloat((Math.random() * (0.5 - 0.1) + 0.1).toFixed(1));
}
/* ‚ñ∂Ô∏è LOAD VIDEO */
function loadVideo() {
    if (currentVideo >= videos.length) {
        document.getElementById("earned").textContent =
            "‚úÖ All videos completed.";
        return;
    }

    const vid = videos[currentVideo];
    if (earnings.watched.includes(vid.id)) {
        currentVideo++;
        loadVideo();
        return;
    }
document.getElementById("playerArea").innerHTML =
        `<div id="player"></div>`;

    player = new YT.Player("player", {
        videoId: vid.id,
        playerVars: { autoplay: 1, controls: 0 },
        events: {
            onReady: startTimer,
            onStateChange: e => {
                if (e.data === YT.PlayerState.ENDED) rewardUser();
            }
        }
    });
}
/* ‚è±Ô∏è TIMER */
function startTimer() {
    let t = Math.floor(player.getDuration());
    const i = setInterval(() => {
        let m = Math.floor(t / 60);
        let s = t % 60;
        document.getElementById("timer").textContent =
            `‚è±Ô∏è ${m}:${s.toString().padStart(2,"0")}`;
        t--;
        if (t < 0) clearInterval(i);
    }, 1000);
}
/* üí∞ REWARD USER */
function rewardUser() {
    const vid = videos[currentVideo];
    const reward = getRandomReward();

    earnings.total += reward;
    earnings.watched.push(vid.id);
    earnings.history.push({
        title: vid.title,
        amount: reward,
        time: new Date().toLocaleString()
    });

localStorage.setItem("earningsData", JSON.stringify(earnings));
    document.getElementById("earnSound").play();

    document.getElementById("earned").innerHTML =
        `üéâ You earned ‚Ç±${reward}<br>üí∞ Total: ‚Ç±${earnings.total.toFixed(2)}`;

    updateBalance();
    renderHistory();

    currentVideo++;
    setTimeout(loadVideo, 3000);
}
/* üí≥ UPDATE BALANCE */
function updateBalance() {
    const box = document.getElementById("balanceBox");
    document.getElementById("balance").textContent =
        earnings.total.toFixed(2);

    box.classList.remove("bump");
    void box.offsetWidth;
    box.classList.add("bump");

    document.getElementById("withdrawBtn").disabled =
        earnings.total < 5;
}
/* üìä HISTORY */
function renderHistory() {
    const list = document.getElementById("historyList");
    list.innerHTML = "";
    earnings.history.forEach(h => {
        const d = document.createElement("div");
        d.className = "card";
        d.innerHTML =
            `<strong>${h.title}</strong><br>
             ‚Ç±${h.amount} ‚Äî ${h.time}`;
        list.appendChild(d);
    });
}
/* üí∏ WITHDRAW (DEMO) */
document.getElementById("withdrawBtn").onclick = () => {
    alert(`Withdraw ‚Ç±${earnings.total.toFixed(2)} successful (DEMO ONLY)`);

    earnings.total = 0;
    earnings.history.push({
        title: "Withdraw",
        amount: "-",
        time: new Date().toLocaleString()
    });

    localStorage.setItem("earningsData", JSON.stringify(earnings));
    updateBalance();
    renderHistory();
};
/* üö´ BASIC ANTI-INSPECT */
document.addEventListener("keydown", e => {
    if (e.key === "F12" || (e.ctrlKey && e.shiftKey)) {
        e.preventDefault();
    }
});
</script>

</body>
</html>