

<body oncontextmenu="return false">
<div class="container">

<button id="themeToggle">ğŸŒ™ Toggle Theme</button>

<div id="balanceBox">
ğŸ’° Balance: â‚±<span id="balance">0.00</span><br>
<button id="withdrawBtn" disabled>ğŸ’¸ Withdraw</button>
</div>

<h2>ğŸ¬ Watch & Earn</h2>

<div id="login">
<select id="userSelect"></select><br>
<input id="password" type="password" placeholder="Password">
</div>
<div id="playerArea"></div>
<div class="progress"><div id="progressBar"></div></div>
<div id="timer"></div>
<div id="earned"></div>

<div class="history">
<h3>ğŸ“Š History</h3>
<div id="historyList"></div>
</div>

</div>
<audio id="earnSound">
<source src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3">
</audio>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
/* USERS */
const USERS={
  user1:{password:"1234",data:null},
  user2:{password:"abcd",data:null}
};

let currentUser=null;

/* VIDEOS */
const videos=[
 {id:"dQw4w9WgXcQ",title:"Video 1"},
 {id:"9bZkp7q19f0",title:"Video 2"}
];

let player,currentVideo=0,timerInterval;

/* THEME */
if(localStorage.getItem("theme")==="light")document.body.classList.add("light");
themeToggle.onclick=()=>{
 document.body.classList.toggle("light");
 localStorage.setItem("theme",document.body.classList.contains("light")?"light":"dark");
};

/* LOAD USERS */
const userSelect=document.getElementById("userSelect");
Object.keys(USERS).forEach(u=>{
 let o=document.createElement("option");o.value=u;o.textContent=u;
 userSelect.appendChild(o);
});

/* LOGIN */
password.addEventListener("keypress",e=>{
 if(e.key==="Enter"){
   const u=userSelect.value;
   if(password.value===USERS[u].password){
     currentUser=u;
     loadUserData();
     login.remove();
     updateBalance();
     renderHistory();
     loadVideo();
   }else alert("Wrong password");
 }
});
/* USER DATA */
function loadUserData(){
 USERS[currentUser].data=
 JSON.parse(localStorage.getItem("earn_"+currentUser))||
 {total:0,watched:[],history:[]};
}

function saveUserData(){
 localStorage.setItem("earn_"+currentUser,JSON.stringify(USERS[currentUser].data));
}
/* RANDOM + JACKPOT */
function getReward(){
 if(Math.random()<0.1) return 1.0;      // ğŸ¯ 10% JACKPOT â‚±1
 return parseFloat((Math.random()*(0.5-0.1)+0.1).toFixed(1));
}

/* LOAD VIDEO */
function loadVideo(){
 if(currentVideo>=videos.length){
   earned.textContent="âœ… All videos done";
   return;
 }
const vid=videos[currentVideo];
 if(USERS[currentUser].data.watched.includes(vid.id)){
   currentVideo++; loadVideo(); return;
 }
 playerArea.innerHTML="<div id='player'></div>";
 player=new YT.Player("player",{
  videoId:vid.id,
  playerVars:{autoplay:1,controls:0},
  events:{onReady:startTimer,onStateChange:e=>{
    if(e.data===YT.PlayerState.ENDED) rewardUser();
  }}
 });
}
/* TIMER + PROGRESS */
function startTimer(){
 let wait=setInterval(()=>{
  let d=Math.floor(player.getDuration());
  if(d>0){clearInterval(wait);runTimer(d);}
 },200);
}

function runTimer(total){
 let t=total;
 clearInterval(timerInterval);
 timerInterval=setInterval(()=>{
  let m=Math.floor(t/60),s=t%60;
  timer.textContent=`â±ï¸ ${m}:${s.toString().padStart(2,"0")}`;
  progressBar.style.width=((total-t)/total*100)+"%";
  t--; if(t<0)clearInterval(timerInterval);
 },1000);
}
/* REWARD */
function rewardUser(){
 const r=getReward();
 const d=USERS[currentUser].data;
 d.total+=r;
 d.watched.push(videos[currentVideo].id);
 d.history.push({title:videos[currentVideo].title,amount:r,time:new Date().toLocaleString()});
 saveUserData();
 earnSound.play();
 earned.innerHTML=`ğŸ‰ You earned â‚±${r}${r===1?" (JACKPOT!)":""}`;
 updateBalance(); renderHistory();
 currentVideo++; setTimeout(loadVideo,3000);
}
/* BALANCE */
function updateBalance(){
 balance.textContent=USERS[currentUser].data.total.toFixed(2);
 withdrawBtn.disabled=USERS[currentUser].data.total<=0;
 balanceBox.classList.remove("bump");void balanceBox.offsetWidth;
 balanceBox.classList.add("bump");
}
/* HISTORY */
function renderHistory(){
 historyList.innerHTML="";
 USERS[currentUser].data.history.forEach(h=>{
  let d=document.createElement("div");
  d.className="card";
  d.innerHTML=`<b>${h.title}</b><br>â‚±${h.amount} â€” ${h.time}`;
  historyList.appendChild(d);
 });
}
/* WITHDRAW (DEMO) */
withdrawBtn.onclick=()=>{
 if(USERS[currentUser].data.total<=0)return alert("No balance");
 alert("Withdraw DEMO â‚±"+USERS[currentUser].data.total.toFixed(2));
 USERS[currentUser].data.total=0;
 saveUserData(); updateBalance(); renderHistory();
};
/* ANTI INSPECT */
document.addEventListener("keydown",e=>{
 if(e.key==="F12"||(e.ctrlKey&&e.shiftKey))e.preventDefault();
});
</script>
</body>
</html>