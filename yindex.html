


/* REWARD */
function rewardUser(){
 const r=getReward();
 const d=USERS[currentUser].data;
 d.total+=r;
 d.watched.push(videos[currentVideo].id);
 d.history.push({title:videos[currentVideo].title,amount:r,time:new Date().toLocaleString()});
 saveUserData();
 earnSound.play();
 earned.innerHTML=`ðŸŽ‰ You earned â‚±${r}${r===1?" (JACKPOT!)":""}`;
 updateBalance();
 renderHistory();
 currentVideo++;
 setTimeout(loadVideo,3000);
}
/* BALANCE + WITHDRAW LIMIT */
function updateBalance(){
 const total=USERS[currentUser].data.total;
 balance.textContent=total.toFixed(2);
 withdrawBtn.disabled = total < 50;
 balanceBox.classList.remove("bump");void balanceBox.offsetWidth;
 balanceBox.classList.add("bump");
}
/* HISTORY */
function renderHistory(){
 historyList.innerHTML="";
 USERS[currentUser].data.history.forEach(h=>{
  let d=document.createElement("div");
  d.className="card";
  d.innerHTML=`<b>${h.title}</b><br>â‚±${h.amount} â€” ${h.time}`;
  historyList.appendChild(d);
 });
}
/* WITHDRAW */
withdrawBtn.onclick=()=>{
 const total=USERS[currentUser].data.total;
 if(total<50){
  alert("Minimum withdrawal is â‚±50");
  return;
 }
 alert("Withdraw SUCCESS (DEMO)\nAmount: â‚±"+total.toFixed(2));
 USERS[currentUser].data.total=0;
 saveUserData();
 updateBalance();
 renderHistory();
};

/* BASIC ANTI INSPECT */
document.addEventListener("keydown",e=>{
 if(e.key==="F12"||(e.ctrlKey&&e.shiftKey))e.preventDefault();
});
</script>
</body>
</html>