<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ECHOZONEPH Watch & Earn</title>
<meta name="viewport" content="width=device-width">

<style>
body{margin:0;font-family:Arial;background:#0b0b0b;color:#fff}
.container{max-width:900px;margin:auto;padding:20px;text-align:center}
.box{background:#111;padding:15px;border-radius:10px;margin-bottom:15px}
.green{color:#00ff88}
.lock{color:#ff6666;font-size:18px;margin:10px 0}
button{padding:10px 15px;border:none;border-radius:6px;cursor:pointer}
button:disabled{background:#555}
input,select{padding:10px;width:100%;max-width:300px;margin:5px}
iframe{width:100%;max-width:800px;height:450px;border-radius:10px}
.progress{width:100%;height:12px;background:#333;border-radius:10px;overflow:hidden;margin:8px 0}
.progress div{height:100%;background:#00ff88;width:0}
.card{background:#111;padding:10px;border-radius:8px;margin-bottom:6px;text-align:left}
.hidden{display:none}
</style>
</head>

<body>
<div class="container">

<div class="box">
üí∞ Balance: ‚Ç±<span id="balance">0.00</span><br>
<div class="progress"><div id="withdrawProgress"></div></div>
<small>Minimum withdrawal ‚Ç±50</small><br><br>
<button id="withdrawBtn" disabled>Withdraw</button>
</div>

<h2>üé¨ Watch & Earn ph</h2>
<h>BASIC PLAN</h>

<div id="login" class="box">
<select id="userSelect"></select><br>
<input id="password" type="password" placeholder="Enter password">
</div>

<div id="lockMsg" class="lock"></div>

<div id="playerArea"></div>
<div class="progress"><div id="videoProgress"></div></div>
<div id="timer"></div>
<div id="earned" class="green"></div>

<div class="box">
üéÅ Daily Check-in Bonus: <span id="dailyBonus" class="green"></span><br>
üé¨ Watched today: <span id="watchedCount">0</span>/6<br>
‚è≥ Next reset in: <span id="countdown"></span>
</div>

<div class="box">
<h3>üìä Earnings History</h3>
<div id="earnHistory"></div>
</div>

<div class="box">
<h3>üì§ Withdrawal History</h3>
<div id="withdrawHistory"></div>
</div>

<div id="withdrawModal" class="box hidden">
<h3>Select withdrawal method</h3>
<button onclick="confirmWithdraw('GCash')">GCash</button>
<button onclick="confirmWithdraw('Maya')">Maya</button>
</div>

</div>

<script src="https://www.youtube.com/iframe_api"></script>
<script>
/* ================= CONFIG ================= */
const USERS={
 user1:{pass:"1234"},
 user2:{pass:"abcd"}
};

/* üîπ MASTER VIDEO LIST (kahit marami) */
const VIDEO_POOL=[
 "dQw4w9WgXcQ",
 "9bZkp7q19f0",
 "3tmd-ClpJxA",
 "L_jWHffIx5E",
 "fLexgOxsZu0",
 "hT_nvWreIhg",
 "OPf0YbXqDm0",
 "kXYiU_JCYtU"
];

/* ================= GLOBAL ================= */
let currentUser,data,player,timerInt;
let dailyVideos=[];
let videoIndex=0;

/* ================= HELPERS ================= */
function today(){return new Date().toISOString().split("T")[0];}
function tomorrow(){
 let d=new Date();d.setDate(d.getDate()+1);
 d.setHours(0,0,0,0);return d;
}
function rand(min,max){return +(Math.random()*(max-min)+min).toFixed(2);}
function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

/* ================= INIT USERS ================= */
window.onload=()=>{
 Object.keys(USERS).forEach(u=>{
  let o=document.createElement("option");
  o.value=u;o.textContent=u;
  userSelect.appendChild(o);
 });
};

/* ================= LOGIN ================= */
password.onkeypress=e=>{
 if(e.key!=="Enter")return;
 let u=userSelect.value;
 if(password.value!==USERS[u].pass)return alert("Wrong password");
 currentUser=u;
 loadData();
 login.remove();
 dailyCheck();
 dailyBonusCheck();
 render();
};

/* ================= DATA ================= */
function loadData(){
 data=JSON.parse(localStorage.getItem("user_"+currentUser))||{
  total:0,
  earn:[],
  withdraw:[],
  watchedToday:[],
  dailyVideos:[],
  lastDate:null,
  lastCheckIn:null
 };
}
function save(){
 localStorage.setItem("user_"+currentUser,JSON.stringify(data));
}

/* ================= DAILY RESET ================= */
function dailyCheck(){
 if(data.lastDate!==today()){
  data.lastDate=today();
  data.watchedToday=[];
  data.dailyVideos=shuffle([...VIDEO_POOL]).slice(0,DAILY_LIMIT);
 }
 dailyVideos=data.dailyVideos;
 save();
 loadVideo();
 startCountdown();
}

/* ================= DAILY BONUS ================= */
function dailyBonusCheck(){
 if(data.lastCheckIn===today()){
  dailyBonus.textContent="Already claimed";
  return;
 }
let bonus=rand(0.1,5);
 data.total+=bonus;
 data.lastCheckIn=today();
 data.earn.push({type:"Daily Bonus",amount:bonus,time:new Date().toLocaleString()});
 save();
 dailyBonus.textContent="‚Ç±"+bonus+" received üéâ";
}

/* ================= VIDEO ================= */
function loadVideo(){
 watchedCount.textContent=data.watchedToday.length;
 if(data.watchedToday.length>=DAILY_LIMIT){
  lockMsg.textContent="üîí Daily limit reached. Come back tomorrow.";
  return;
 }
playerArea.innerHTML="<div id='player'></div>";
 player=new YT.Player("player",{
  videoId:dailyVideos[videoIndex],
  playerVars:{autoplay:1,controls:0},
  events:{
   onReady:startTimer,
   onStateChange:e=>{
    if(e.data===YT.PlayerState.ENDED) reward();
   }
  }
 });
}

/* ================= TIMER ================= */
function startTimer(){
 let chk=setInterval(()=>{
  let d=player.getDuration();
  if(d>0){
   clearInterval(chk);
   runTimer(Math.floor(d));
  }
 },200);
}
function runTimer(total){
 let t=total;
 clearInterval(timerInt);
 timerInt=setInterval(()=>{
  timer.textContent=`‚è±Ô∏è ${Math.floor(t/60)}:${String(t%60).padStart(2,"0")}`;
  videoProgress.style.width=((total-t)/total*100)+"%";
  t--; if(t<0)clearInterval(timerInt);
 },1000);
}

/* ================= REWARD ================= */
function reward(){
 let r=rand(0.1,0.5);
 data.total+=r;
 data.watchedToday.push(dailyVideos[videoIndex]);
 data.earn.push({type:"Video",amount:r,time:new Date().toLocaleString()});
 videoIndex++;
 save();
 earned.textContent="üéâ You earned ‚Ç±"+r;
 render();
 setTimeout(loadVideo,3000);
}

/* ================= RENDER ================= */
function render(){
 balance.textContent=data.total.toFixed(2);
 withdrawBtn.disabled=data.total<50;
 withdrawProgress.style.width=Math.min(data.total/50*100,100)+"%";

 earnHistory.innerHTML=data.earn.map(e=>
  `<div class="card">${e.type}<br>‚Ç±${e.amount}<br>${e.time}</div>`
 ).join("");

 withdrawHistory.innerHTML=data.withdraw.map(w=>
  `<div class="card">${w.method} ‚Ç±${w.amount}<br>${w.time}</div>`
 ).join("");
}

/* ================= WITHDRAW ================= */
withdrawBtn.onclick=()=>withdrawModal.classList.remove("hidden");
function confirmWithdraw(m){
 data.withdraw.push({method:m,amount:data.total,time:new Date().toLocaleString()});
 data.total=0;
 save();
 withdrawModal.classList.add("hidden");
 render();
}

/* ================= COUNTDOWN ================= */
function startCountdown(){
 setInterval(()=>{
  let diff=tomorrow()-new Date();
  let h=Math.floor(diff/3600000);
  let m=Math.floor(diff%3600000/60000);
  let s=Math.floor(diff%60000/1000);
  countdown.textContent=`${h}h ${m}m ${s}s`;
 },1000);
}
</script>
</body>
</html>