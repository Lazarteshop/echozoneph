<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>User Invite Panel</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

<style>
body {
  background:#0b0b0b;
  color:#ffffff;
  font-family:Arial, sans-serif;
  text-align:center;
}
select, input, button {
  padding:12px;
  margin:8px;
  width:90%;
  max-width:320px;
  font-size:16px;
}
#panel {
  display:none;
  margin-top:20px;
}
</style>
</head>

<body>

<h2>User Invite Panel</h2>

<select id="userSelect">
  <option value="">Select username</option>
</select>

<input id="password" type="password" placeholder="Password">
<button id="loginBtn">Login</button>

<div id="loginMsg"></div>

<div id="panel">
  <h3>Create Invite</h3>
  <input id="inviteUser" placeholder="New username">
  <button id="createBtn">Create Invite</button>
  <div id="msg"></div>
</div>

<script>
/* USERS (PASSWORD NASA SCRIPT LANG) */
const USERS = {
  Benggalleon041: "beng41",
  John: "101017",
  Delf: "230738",
  jonardbelleza: "251935",
  jaynegalleon: "jayne1",
  admin: "admin123"
};

/* LOAD DROPDOWN */
const userSelect = document.getElementById("userSelect");
Object.keys(USERS).forEach(function(name){
  const opt = document.createElement("option");
  opt.value = name;
  opt.textContent = name;
  userSelect.appendChild(opt);
});

/* SUPABASE (INVITES ONLY) */
const supabase = window.supabase.createClient(
  "https://latimgzxirdlcetikufy.supabase.co",
  "PASTE_YOUR_ANON_KEY_HERE"
);

let currentUser = "";

/* LOGIN */
document.getElementById("loginBtn").onclick = function(){
  const u = userSelect.value;
  const p = document.getElementById("password").value;

  if(!u || !p){
    document.getElementById("loginMsg").innerText =
      "Select username and enter password";
    return;
  }

if(USERS[u] !== p){
    document.getElementById("loginMsg").innerText =
      "Wrong password";
    return;
  }

  currentUser = u;
  document.getElementById("loginMsg").innerText = "Login success";
  document.getElementById("panel").style.display = "block";
};

/* CREATE INVITE */
document.getElementById("createBtn").onclick = async function(){
  const newUser = document.getElementById("inviteUser").value;
  if(!newUser){
    alert("Enter new username");
    return;
  }

  const res = await supabase.from("invites").insert({
    inviter: currentUser,
    invite_username: newUser,
    status: "pending"
  });

document.getElementById("msg").innerText =
    res.error ? res.error.message : "Invite created (waiting admin approval)";

  document.getElementById("inviteUser").value = "";
};
</script>

</body>
</html>









