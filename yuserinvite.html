<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User Invite Panel</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

<style>
body{
  background:#0b0b0b;
  color:#fff;
  font-family:Arial;
  text-align:center;
}
select,input,button{
  padding:12px;
  margin:8px;
  width:90%;
  max-width:320px;
  font-size:16px;
}
#panel{display:none;margin-top:20px}
</style>
</head>

<body>
 <h2>User Invite Panel</h2>

<select id="userSelect">
  <option value="">Select username</option>
</select>

<input id="password" type="password" placeholder="Password">
<button id="loginBtn">Login</button>

<div id="loginMsg"></div>
  
 <div id="panel">
  <h3>Create Invite</h3>
  <input id="inviteUser" placeholder="New username">
  <button id="createBtn">Create Invite</button>
  <div id="msg"></div>
</div>

<script> 
  /* USERS (LOCAL LOGIN) */
const USERS = {
  Benggalleon041: "beng41",
  John: "101017",
  Delf: "230738",
  jonardbelleza: "251935",
  jaynegalleon: "jayne1",
  admin: "admin123"
};
const sel = document.getElementById("userSelect");
const passwordInput = document.getElementById("password");
const loginMsg = document.getElementById("loginMsg");
const panel = document.getElementById("panel");
const inviteUser = document.getElementById("inviteUser");
const msg = document.getElementById("msg");

Object.keys(USERS).forEach(u=>{
  const o = document.createElement("option");
  o.value = u;
  o.textContent = u;
  sel.appendChild(o);
});

/* SUPABASE (INVITES ONLY) */
const supabase = window.supabase.createClient(
  "https://latimgzxirdlcetikufy.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxhdGltZ3p4aXJkbGNldGlrdWZ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgzODI1NDksImV4cCI6MjA4Mzk1ODU0OX0.wfrJkLAmrn895meab65kMdsRWNapPrvWiiw8cdDCNUY"
);

let currentUser = "";

/* LOGIN */
document.getElementById("loginBtn").onclick = () => {
  const u = sel.value;
  const p = passwordInput.value;

  if(!u || !p){
    loginMsg.innerText = "Select user and enter password";
    return;
  }

  if(USERS[u] !== p){
    loginMsg.innerText = "Wrong password";
    return;
  }

currentUser = u;
  loginMsg.innerText = "Login success";
  panel.style.display = "block";
};

/* CREATE INVITE */
document.getElementById("createBtn").onclick = async () => {
  if(!inviteUser.value){
    alert("Enter username");
    return;
  }

  const { error } = await supabase.from("invites").insert({
    inviter: currentUser,
    invite_username: inviteUser.value,
    status: "pending"
  });

msg.innerText = error ? error.message : "Invite created";
  inviteUser.value = "";
};
</script>

</body>
</html>



  
  
  
  
  
  
  
  
  
  
  
  